---
Keywords: 自作シェル
Copyright: (C) 2024 Ryuichi Ueda
---

# ロボットの確率・統計という本を出します

　2月中旬に自著[「ロボットの確率・統計 ―製作・競技・知能研究で役立つ考え方と計算法―」](https://www.coronasha.co.jp/np/isbn/9784339046878/)という本が出ます。自分が確率・統計の専門家かと言われると疑問なのですが、とりあえずロボットをいじる側から、「これくらい理解しておけばいいんじゃないか」という内容を書きました。

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">近刊🔜2月中旬発行予定<br><br>ロボットの確率・統計<br>- 製作・競技・知能研究で役立つ考え方と計算法 - <a href="https://t.co/dFJ5ac629M">https://t.co/dFJ5ac629M</a><br>上田隆一 著<br><br>ロボット分野だけに限定した，様々な確率・統計の知識を学ぶことができる書籍</p>&mdash; コロナ社☉自然科学専門書の出版社 (@coronasha) <a href="https://twitter.com/coronasha/status/1745235389865205874?ref_src=twsrc%5Etfw">January 11, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

## 内容

　内容は上のページの目次にあるとおりなのですが、何回かクリックしないと見えないので、こちらにも原稿からシェル芸で抽出したものを貼り付けます。（校正前のものなので、実際のものとは異なります。）

　「280ページでこれだけ詰め込んで大丈夫か」とついったに素直な感想をいただきましたが、なんとかなってます。ただ、内容は濃いので真面目に読もうとせずに<span style="color:red">各項目を勉強をするためのリファレンスやモチベーションの維持</span>のために使ってもらえると幸いです。たとえば加法定理や乗法定理など普通の教科書だとさらっと書いてあることが、実際のどのような場面で現れるのかをしつこく書いて、「なぜ確率・統計を学ぶとよいのか」を感じることができるようにしてあります。

```
 1. 代表値 ---統計の知識がないと喧嘩になる
 1.1 代表値で比較する
 1.1.1 試行と事象
 1.1.2 代表値の選択と計算
         最大値，最小値
         平均値
 1.1.3 判断材料にすることで代表値は意味を持つ
 1.2 他の基本的な代表値とロボティクスでの利用
 1.2.1 中央値
         使い方の典型例
         ロボティクスでの利用
 1.2.2 最頻値，モード
         最頻値
         モード
         ロボティクスにおけるモード
 1.3 データのばらつきを表す指標
 1.3.1 分散
         センサの性能比較の問題
         ばらつき具合の比較
         分散
 1.3.2 標準偏差
 1.4    データの偏りと外れ値
 1.4.1     データの偏り
             偏りと校正
             ロボットが動作中に起こる偏り
 1.4.2 外れ値
 1.5 まとめ
 2. 確率 ---機械が動くという奇跡
 2.1 掛け算で動く可能性が減っていくロボット
 2.1.1 確率の導入
         確率の導入
         確率の記号表現と事象
 2.1.2 ロボットの起動率の計算
 2.1.3 乗法定理と独立
         乗法定理
         独立
 2.2 冗長化されたシステム
 2.2.1 加法定理
 2.2.2 冗長化されたA$_1$の起動率
         排反な事象への分解
         加法定理を使った式の整理
         余事象を使った導出
         冗長化の効果
 2.3 部品が互いに影響を与える場合
 2.3.1 乗法定理による計算
 2.3.2 隠れた条件と加法定理
         今まで考えてこなかった条件を式に加える
         例
 2.4 確率変数，確率質量関数と確率分布
 2.4.1 確率変数
 2.4.2 確率質量関数
 2.4.3 確率分布
 2.4.4 確率分布と事象の関係
 2.4.5 同時確率質量関数，同時確率分布
 2.5 まとめと議論
 2.5.1 なぜ自動車や飛行機が大丈夫なのかを不真面目に考える
 2.5.2 信頼性向上の方法に関する考察
 2.5.3 冗長化に関する考察
 3. 期待値 ---運を神頼みにしない
 3.1 期待値の計算で最大の成果を挙げる
 3.1.1 期待値の考え方
 3.1.2 期待値の線型性
 3.1.3 期待値の他の性質
         期待値計算に無関係な変数の除去
         期待値の入れ子
         期待値の積の分離
         変数の追加・周辺化の式の表現
 3.2 シミュレーションによる期待値の算出
 3.2.1 シミュレーションを繰り返して平均値をとる
 3.2.2 シミュレーションと確率
 3.3 期待値と確率分布の平均，分散
 3.3.1 確率分布の平均値
 3.3.2 確率分布の分散
 3.3.3 2つの確率変数の分散と共分散
 3.3.4 不偏分散と確率分布の分散の関係
 3.4 まとめ
 4.    連続値と多変量 ---ロボットは空間を動く
 4.1 連続型確率変数の離散化
 4.1.1 連続型確率変数
 4.1.2 離散化による確率質量関数の導出
 4.1.3 連続型の多変量確率変数の離散化
 4.1.4 適切な解像度
 4.2 モンテカルロ法と密度
 4.2.1 囲って数える
 4.2.2 密度の導入
         広いほうが確率が高くなるが？
         密度
         確率密度関数
         確率密度関数の性質
 4.3 ガウス分布
 4.3.1 確率密度関数へ式を当てはめる
         ガウス分布（正規分布）
         なぜ数式で表したいのか/なぜガウス分布なのか
         ガウス分布の「読み方」
         正規化定数
         ガウス分布の積と精度
 4.3.2 多変量のガウス分布
         多変量ガウス分布の定義
         共分散行列の計算
         多変量ガウス分布の形状
 4.3.3 多変量ガウス分布の演算
         多変量ガウス分布にしたがう2つの独立した確率変数の和の分布
         多変量ガウス分布の線形変換
         多変量ガウス分布の積
 4.4 まとめ
 5.    試行回数と信頼性 ---実験で教員に叱られないために
 5.1 確率の確率分布を考える
 5.1.1 実験から求めた確率の不確かさ
         試行回数が少ないと結果が信頼できない
         完走率の分布
         分布の比較
 5.1.2 確率の確率分布の計算
         事前確率の設定
         事後分布の計算
 5.1.3 一般的な事前，事後分布の計算（ベイズの定理）
         ベイズの定理
         尤度
         周辺尤度
         情報が複数の場合
 5.2 離散化による事後分布の近似計算と比較
 5.2.1 試行結果 を反映した事後分布の計算
 5.2.2 改良前後のソフトウェアの（確率的な）完走率の比較
 5.2.3 試行回数を増やす効果と限界
 5.3 共役事前分布
 5.3.1 ベルヌーイ試行とベータ分布
 5.3.2 共役性
 5.4 まとめ
 6.    動く確率分布 ---ロボットは時空を進む
 6.1 動く物体と確率
 6.1.1 時間と座標系
 6.1.2 ロボットの意思と，意思通りにならない現実
 6.1.3 ロボットの動きの確率的な表現
 6.1.4 ある時刻の位置の分布
 6.2 「線形な」ロボットの位置の予測
 6.2.1 問題の定式化
 6.2.2 解き方
 6.3 物体が「非線形に」移動する場合の位置の予測
 6.3.1 ロボット座標系の準備と移動量の座標変換
         ロボット座標系の導入
         移動量の座標系
 6.3.2 座標変換の線形化
         線形化の方針
         ヤコビ行列の計算
 6.3.3 移動後の分布の算出
 6.4 モンテカルロ法による予測
 6.4.1 モンテカルロ法による予測の例
 6.4.2 数式での表現
         サンプルの準備
         予測のための初期化
         移動の際の予測
 6.5 ヒストグラム状の離散化を用いた予測
 6.6 まとめ
 7. センシングと推定 ---ロボットは実世界を観察する
 7.1 情報のフィルタとしてのベイズの定理
 7.1.1 ベイズの定理と尤度関数による情報の変換
 7.1.2     人間の考えの偏りに対するベイズ的な解釈
 7.2 ベイズフィルタ
 7.2.1 ロボットの信念
 7.2.2 観測に関する信念分布の変形
 7.2.3 移動に関する信念分布の変形
 7.2.4 導出されたベイズフィルタ
 7.3 ベイズフィルタの実装例I: カルマンフィルタ
 7.3.1 線形な場合の観測の扱い
         尤度関数
         尤度関数の例
         カルマンゲインの導入と整理
         カルマンフィルタのまとめ
 7.3.2 非線形な場合の情報の扱い
         非線形な場合の観測による情報取得のモデル化
         線形化
         拡張カルマンフィルタの導出
 7.3.3 ベイズフィルタの実装例II: パーティクルフィルタ
         パーティクルの再定義
         移動による姿勢の変更
         観測による重みの変更
         応用例
 7.4 まとめ
 8. 機械学習 ---ロボットはぼんやり実世界を観察する
 8.1 バラバラなデータから像を見るI: ベイズ線型回帰
 8.1.1 最小二乗法による直線の当てはめ
         損失関数
         勾配
         勾配を「降りる」
         当てはめる直線の算出
 8.1.2 ベイズ線型回帰
         当てはめる曲線の準備
         データ発生の法則を考える
         パラメータ発生の法則を考える
         事後分布の算出
         多項式の当てはめの例
 8.2 バラバラなデータから像を見るII: 混合ガウス分布の推定
 8.2.1 「確率の確率」による問題の定式化
             現象のモデル化
             事前分布の作成
 8.2.2      変分推論による  解き方
             分布の近似表現と損失関数
             $q$を部分的に$p^*$に近づける
 8.2.3     混合ガウス分布の推論
             初期の$q_1$の設定
             $q_2$の導出
             変分事後分布のパラメータの計算
         仮の事後分布からの負担率の再計算
         繰り返し
 8.3 関数を自在に生成する
 8.3.1 教師あり学習が扱う問題
 8.3.2 情報をとりあえず全部入力してみる
 8.3.3 訓練データ
 8.3.4 損失関数の設定
 8.3.5 深層学習と利用の例
 8.3.6 議論
 8.4 まとめ
 9. 意思決定と制御 ---ロボットは自律する
 9.1 決めるということはどういうことかI
 9.1.1 数式による表現
         1つに選ばないといけない
         結果が出て，報いを受ける
         エージェント
         行動の選び方
         補足
 9.1.2 自己位置推定チャレンジの再考
         点数の期待値を最大化する場合の定式化と計算
         最高点をとらなければならない場合の定式化と計算
 9.1.3 最適化問題
 9.2 決めるということはどういうことかII
 9.2.1 多段の意思決定
         行動列
         報酬と行動列の評価
         状態価値関数
         状態価値関数の性質
         最適方策と最適状態価値関数
         方策改善とベルマン方程式
         議論（損して得取れ）
 9.3 ベルマン方程式と制御
 9.3.1 最適制御の導出
 9.3.2 式(9.42)の仮定の証明
 9.3.3 議論
 9.4 強化学習
 9.4.1 学習の原理
         $Q$の更新方法
 9.4.2 議論
         失敗の必要性
         報酬はどうやって決まるのか
 9.5 さらに難しい問題
 9.5.1 他者のいる系
 9.5.2 POMDP
 9.5.3 自由エネルギー原理と能動的推論
 9.6 まとめ

 引用・参考文献

 索引
 ```

## いろんなエピソードや作り話

　目次には現れませんが、「実際のどのような場面」
を描くために、各章の冒頭などにいろんな例をはさんでいます。
いくつか「例の例」を紹介します。

* 例 1.1 ある小学生の喧嘩
* 例 1.2 中央値（子供のコンテストに親が介入していないか）
* 例 2.1 なぜかリタイアが多いロボコンチーム
* 例 3.1 ある国際競技会で実際にあったズル
* 例 8.3 麻雀漬けの人間の脳
* 例 9.1 傘は必要？
* 他、たくさん

気になったらたぶん読まないと気がすまなくなる人も出てくると思うのですが、
<span style="color:red">まだ予約はできません</span>。
売上を増やしたいなら、予約できるようになった後でこの記事を書くべきだったかもしれませんが、
謎のパッションから先走りをしてしまいました。

無念です。以上です。

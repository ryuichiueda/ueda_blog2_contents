---
Keywords: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°,å‹‰å¼·ä¼š,ã‚·ã‚§ãƒ«èŠ¸,ã‚·ã‚§ãƒ«èŠ¸å‹‰å¼·ä¼š
Copyright: (C) 2022 Ryuichi Ueda
---

# ã€å•é¡Œã¨è§£ç­”ã€‘juså…±å‚¬ ç¬¬58å›ã‚·ã‚§ãƒ«èŠ¸å‹‰å¼·ä¼š

* å•é¡Œã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã¯[GitHub](https://github.com/ryuichiueda/ShellGeiData/tree/master/vol.58)ã«ã‚ã‚Šã¾ã™ã€‚ã‚¯ãƒ­ãƒ¼ãƒ³ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãŠé¡˜ã„ã—ã¾ã™ã€‚

```bash
$ git clone https://github.com/ryuichiueda/ShellGeiData.git
```

* ç’°å¢ƒ: è§£ç­”ä¾‹ã¯Ubuntu 20.04 LTSã§ä½œæˆã€‚Macã®å ´åˆã¯coreutilsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€GNUã®ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã¾ã™ã€‚BSDç³»ã®äººã¯ç„äººãªã®ã§å„è‡ªå¯¾å¿œã®ã“ã¨ã€‚


## Q1

æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«`memo`ã«ã¤ã„ã¦ã€

```
ãƒ¡ãƒ¢: 2022å¹´3æœˆ5æ—¥

* 2æ—¥å¾Œ: ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®
* 6æ—¥å¾Œ: å›½éš›ãƒ­ãƒœãƒƒãƒˆå±•
* 7æ—¥å¾Œ: ã‚·ã‚§ãƒ«èŠ¸å‹‰å¼·ä¼š
```

æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ã‚’å¾—ã¦ãã ã•ã„ã€‚1è¡Œç›®ã®æ—¥ä»˜ãŒé•ã£ã¦ã‚‚æ©Ÿèƒ½ã™ã‚‹ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚’è€ƒãˆã¦ãã ã•ã„ã€‚

```
* 2022å¹´3æœˆ7æ—¥ ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®
* 2022å¹´3æœˆ11æ—¥ å›½éš›ãƒ­ãƒœãƒƒãƒˆå±•
* 2022å¹´3æœˆ12æ—¥ ã‚·ã‚§ãƒ«èŠ¸å‹‰å¼·ä¼š
```

### è§£ç­”ä¾‹

```
$ cat memo | awk 'NR==1{d=$2}NR>1{gsub(/æ—¥å¾Œ:/," "d,$2);print}' |
awk 'NF{print "echo","$(date -d \""$3,$2"days\")",$4}' | sed 'y/å¹´æœˆæ—¥/-- /'  |
bash | awk '{print "*",$1$2$3,$7}'
* 2022å¹´3æœˆ7æ—¥ ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®
* 2022å¹´3æœˆ11æ—¥ å›½éš›ãƒ­ãƒœãƒƒãƒˆå±•
* 2022å¹´3æœˆ12æ—¥ ã‚·ã‚§ãƒ«èŠ¸å‹‰å¼·ä¼š
```

## Q2

æ•°å­—ã‚’ç›´æ¥æ‰“ã¡è¾¼ã‚€ã“ã¨ãªãã€`date`ã«`2022å¹´02æœˆ22æ—¥ 2 22:22:22`ã¨å‡ºåŠ›ã•ã›ã¦ãã ã•ã„ã€‚äºŒåˆ—ç›®ã®`2`ã¯é€±ç•ªå·ã§ã™ã€‚

### è§£ç­”ä¾‹

```
$ a=$(($$/$$<<$$/$$));b=$(($$-$$));echo $a$b$a$a$b$a$a$a $a$a:$a$a:$a$a | date -f- "+%x %w %T"
2022å¹´02æœˆ22æ—¥ 2 22:22:22
```

## Q3

https://file.ueda.tech/eki/p/13.json ã®JSONå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã€æ¬¡ã®ã‚ˆã†ãªYAMLå½¢å¼ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚

```
line:
  - line_cd: "11301"
    line_name: JRæ±æµ·é“æœ¬ç·š(æ±äº¬ï½ç†±æµ·)
  - line_cd: "11302"
ãƒ»ãƒ»ãƒ»
```

### è§£ç­”ä¾‹

```
$ cat 13.json | yq -o xml | yq -p xml -o yaml
```

## Q4

æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ã‚’å¾—ã¦ãã ã•ã„ã€‚

![](unko_move.mp4)


### è§£ç­”ä¾‹

```
yes ğŸ’©ğŸ’©ğŸ’©ğŸ’©ğŸ’©ğŸ’©ğŸ’© | awk '{print 7-(NR-1)%7,int((NR-1)/7),$0}' |
awk '{print $2,substr($3,1,$1),substr($3,$1+1)}' |
awk '{for(i=1;i<=$1;i++)printf " ";printf("%s %s",$2,$3);system("sleep 0.1;printf \\\\r")}'
```


## Q5

æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«`putin`ã‹ã‚‰ã€ãƒ—ãƒ¼ãƒãƒ³ã¨èª­ã‚ã‚‹ã‚‚ã®ã®è¡Œç•ªå·ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„ã€‚ä¸€èˆ¬è§£ã¯ä¸è¦ã§ã™ãŒã€è¡Œç•ªå·ã¯ç›´æ¥æŒ‡å®šã—ãªã„ã§ãã ã•ã„ã€‚


```
ãƒ—-ï¾ï¾
ï¾Œï¾Ÿâ€ãƒãƒ³
ãƒ—ãƒ¼ãƒãƒ³
ï¾Œï¾Ÿâ€‘ï¾ï¾
ï¾Œâ€‘ï¾ƒï¾
ãƒ•ï¾Ÿâˆ’ãƒï½¿
ã‚¿âˆ’ï¾ï½¬ï¾
ãƒ—ãƒãƒ³
ãƒ•ï¾Ÿâˆ’ãƒãƒ³
ãƒ—â€“ï¾ãƒ³
ãƒ—ï½°ãƒãƒ³
ãƒ•ã‚šï¾ï½¬ï½°ï¾ï¾
ãƒ—â€•ãƒãƒ³
ï¾ï¾Ÿâ€•ãƒãƒ³
ãƒ—ï½°ï½»ï¾
ï¾Œï¾Ÿï½¯ï¾ï¾
ï¾Œï¾Ÿï¾-ï¾
ãƒ•ã‚šâ€”ãƒãƒ³
```

### è§£ç­”ä¾‹

ã„ãã‚ãŸã‚Šã°ã£ãŸã‚Šã§ã™ãŒã€ä¸€åº¦åŠè§’ã«ãªãŠã—ã¦å…¨è§’ã«æˆ»ã™ã¨è¦‹é€šã—ãŒã‚ˆããªã‚Šã¾ã™ã€‚

```
$ nl putin | nkf | nkf -Z4 | nkf | grep ãƒ— | grep ãƒãƒ³ | grep -v ãƒƒ | grep -v ãƒ—ãƒ
     1	ãƒ—-ãƒãƒ³
     2	ãƒ—â€ãƒãƒ³
     3	ãƒ—ãƒ¼ãƒãƒ³
     4	ãƒ—â€‘ãƒãƒ³
     9	ãƒ—-ãƒãƒ³
    10	ãƒ—â€“ãƒãƒ³
    11	ãƒ—ãƒ¼ãƒãƒ³
    13	ãƒ—-ãƒãƒ³
    18	ãƒ—-ãƒãƒ³
```


## Q6 

æ¬¡ã®ãµãŸã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã€

```
$ cat file1
ãƒãƒ³ã‚³
ã‚¯ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ«
ãƒ£ã‚«ãƒ«ã‚¿
ãƒ—ãƒãƒ³ãƒ³
$ cat file2
ãƒ—ãƒ³ãƒšãƒ³
ã‚¢ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ«
ãƒ³ã‚³ã‚¯
ã‚¸ãƒ£ã‚«ã‚¿
```

æ¬¡ã®å‡ºåŠ›ã‚’å¾—ã¦ãã ã•ã„ã€‚è¡Œã®é †ç•ªã¯ä»»æ„ã¨ã—ã¾ã™ã€‚ã¾ãŸã€å®Œç’§ã§ãªãã¦ã‚‚ã‚ˆã„ã®ã§ãªã‚‹ã¹ãä¸€èˆ¬çš„ãªè§£ã‚’ä½œã£ã¦ãã ã•ã„ã€‚

```
ãƒãƒ³ã‚³ ãƒ³ã‚³ã‚¯
ã‚¯ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ« ã‚¢ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ«
ãƒ£ã‚«ãƒ«ã‚¿ ã‚¸ãƒ£ã‚«ã‚¿
ãƒ—ãƒãƒ³ãƒ³ ãƒ—ãƒ³ãƒšãƒ³
```

### è§£ç­”ä¾‹

```
$ join -j9 file* |
awk -F "" '{for(i=1;i<NF;i++)a[$i$(i+1)]++;for(k in a)if(a[k]>1){b++};print $0,b;delete(a);b=0}' |
awk '$3>0{print $1,$2}'
ãƒãƒ³ã‚³ ãƒ³ã‚³ã‚¯
ã‚¯ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ« ã‚¢ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ«
ãƒ£ã‚«ãƒ«ã‚¿ ã‚¸ãƒ£ã‚«ã‚¿
ãƒ—ãƒãƒ³ãƒ³ ãƒ—ãƒ³ãƒšãƒ³
```

## Q7

`nums.gz`ï¼ˆ`https://github.com/ryuichiueda/ShellGeiData/raw/master/vol.58/nums.gz`ï¼‰å†…ã®æ•°å­—ã‚’å…¨ã¦è¶³ã—ã¦ãã ã•ã„ã€‚


### è§£ç­”ä¾‹

```
$ (zgrep -v '^[0-9]*$' nums.gz | zen_to_i ; zgrep '^[0-9]*$' nums.gz ) | awk '{a+=$1}END{print a}'
50000224232066
### AWKã§æ¡è½ã¡ã™ã‚‹ã¨ã ###
$ (zgrep -v '^[0-9]*$' nums.gz | zen_to_i ; zgrep '^[0-9]*$' nums.gz ) | paste -d+ - - - - - - - - - - | bc | paste -d+ - - - - - - - - - - | bc | paste -d+ - - - - - - - - - - | bc | paste -d+ - - - - - - - - - - |bc | paste -d+ - - - - - - - - - - |bc| paste -d+ - - - - - - - - - - |bc| paste -d+ - - - - - - - - - - |bc| paste -d+ - - - - - - - - - - |bc
50000224232066
### dcã‚’ä½¿ã†ä¾‹ï¼ˆå°‘ã—é…ã„ã§ã™ã€‚ï¼‰
$ (zgrep -v '^[0-9]*$' nums.gz | zen_to_i ; zgrep '^[0-9]*$' nums.gz ) | sed '2,$s/$/+/' | sed '$s/$/\np/' | dc
50000224232066
```

* zen_to_i: https://github.com/yoshitsugu/zen_to_i


